# KNCB Match Centre Documentation (June 2025)

## Overview

The KNCB Match Centre is a web application designed to display cricket match information from the Dutch cricket league (KNCB). It provides real-time match data, live streaming capabilities, and advanced filtering options for users.

## Features

### Match Display
- **Real-time Updates**: Live match data including scores, status, and venue.
- **Team Logos**: Club logos displayed alongside team names.
- **Match Status**: Categorized as In Progress, Upcoming, or Completed.
- **Venue Links**: Match venues linked to Google Maps for navigation.

### Filtering Options
- **Status Filter**: Filter matches by status (In Progress, Upcoming, Completed).
- **Competition Filter**: Filter matches by cricket leagues/grades.
- **Round Filter**: Filter matches by tournament rounds.
- **Date Range Filter**: Select custom date ranges for filtering matches.
- **Live Streams Filter**: Show matches with live streaming available.
- **Club Filter**: Filter matches by specific cricket clubs.

### Interactive Elements
- **Clickable Match Details**: Navigate to match scorecards and live streams.
- **Stream Controls**: Embedded YouTube streams with popup functionality.
- **Collapsible Groups**: Group headers for matches are collapsible and sticky.

### Performance Features
- **Lazy Loading**: Initial load fetches limited grades, with a "Load More" option.
- **Caching**: Match data cached for faster subsequent loads.
- **Background Updates**: Automatic refresh every 5 minutes.

## Technical Details

### API Integration
- **Base URL**: `https://api.resultsvault.co.uk/rv/134453/matches/`
- **Parameters**:
  - `apiid`: 1002
  - `seasonid`: 19
  - `gradeid`: Various grade IDs for competitions
  - `action`: ors
  - `maxrecs`: 1000
  - `strmflg`: 1

### Grade Configuration
The application supports 20 cricket grades, including senior men's, women's, youth, and Twenty20 competitions.

### Data Structure
#### Match Object
```javascript
{
    match_id: "unique identifier",
    date1: "match date",
    status_id: "status code",
    home_name: "home team name",
    away_name: "away team name",
    grade_name: "competition name",
    venue_name: "venue name",
    score_text: "current score",
    matchStreams: [
        { video_id: "YouTube video ID" }
    ]
}
```

## Setup Instructions

### Prerequisites
- Modern web browser
- Internet connection

### Installation
1. Download project files.
2. Open `index.html` in a browser.
3. Matches will load automatically.

### Configuration
- **Initial Grades**: Set `INITIAL_GRADES_TO_LOAD` in `script.js`.
- **Date Range**: Modify `dateRangeState` in `script.js`.

## Development Notes

### File Structure
```
c:\Projects\Matchcentre\19 Matchcentre\
├── index.html
├── script.js
├── styles.css
├── documentation.md
├── gpt-40.md
```

### Debugging
- Use the debug panel for logs and error tracking.
- Toggle visibility with the "Show Debug Log" button.

### Future Enhancements
- Venue mapping integration.
- Advanced statistics display.
- Offline mode support.

---
*Generated by GPT-40*
